{"version":3,"sources":["webpack:///./src/pages/architecture.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","PageDescription","AnchorLinks","AnchorLink","Column","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","colLg","isMDXComponent"],"mappings":"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","file":"component---src-pages-architecture-mdx-922c88e3688a8ad314ff.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/gonzaloacosta/workspace/redux-mvc-docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nimport Module from \"../images/Module.svg\";\nimport ModuleComposition from \"../images/ModuleComposition.svg\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst Column = makeShortcode(\"Column\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <PageDescription mdxType=\"PageDescription\">\n      <p>{`Intro to the `}<em parentName=\"p\">{`redux-mvc`}</em>{` architecture.`}</p>\n    </PageDescription>\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Module Diagram</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Module Composition</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Architecture Components</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Implementation</AnchorLink>\n    </AnchorLinks>\n    <h2>{`Module Diagram`}</h2>\n    <p>{`The `}<em parentName=\"p\">{`module`}</em>{` is the unit of composition and architecture, meaning that you can create bigger modules out of tiny ones while the architecture remains the same, it is always a module.`}</p>\n    <Column colLg='4' mdxType=\"Column\">\n  <Module mdxType=\"Module\" />\n    </Column>\n    <h3>{`Interactions`}</h3>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The `}<em parentName=\"p\">{`model`}</em>{` receives events (actions) from the `}<em parentName=\"p\">{`view`}</em>{` and `}<em parentName=\"p\">{`controller`}</em>{` and updates the state.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The `}<em parentName=\"p\">{`view`}</em>{` consumes the `}<em parentName=\"p\">{`selectors`}</em>{` and dispatches events.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The `}<em parentName=\"p\">{`selectors`}</em>{` consume the `}<em parentName=\"p\">{`model`}</em>{` and the `}<em parentName=\"p\">{`global database`}</em>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The `}<em parentName=\"p\">{`controller`}</em>{` observers the events from the `}<em parentName=\"p\">{`view`}</em>{` or other `}<em parentName=\"p\">{`controllers`}</em>{` and dispatches new events or does I/O. They consume the `}<em parentName=\"p\">{`selectors`}</em>{`.`}</p>\n      </li>\n    </ul>\n    <h2>{`Module Composition`}</h2>\n    <p>{`Given three modules (a, b, c) you can create a module out of them by using the `}<em parentName=\"p\">{`merge`}</em>{` decorator. You can use `}<em parentName=\"p\">{`views`}</em>{` from child modules in it, you can consume its `}<em parentName=\"p\">{`selectors`}</em>{` and watch its events with your `}<em parentName=\"p\">{`controller`}</em>{`.`}</p>\n    <p>{`In this case is clear why a `}<em parentName=\"p\">{`controller`}</em>{` can act as supervisor of other `}<em parentName=\"p\">{`modules`}</em>{`.`}</p>\n    <Column colLg='4' mdxType=\"Column\">\n  <ModuleComposition mdxType=\"ModuleComposition\" />\n    </Column>\n    <h2>{`Architecture Components`}</h2>\n    <h3>{`Model`}</h3>\n    <p>{`The `}<em parentName=\"p\">{`model`}</em>{` is the business logic layer where the state updates happen. `}</p>\n    <p>{`You can define the `}<em parentName=\"p\">{`iniState`}</em>{` and `}<em parentName=\"p\">{`reducers`}</em>{` in it. `}<em parentName=\"p\">{`redux-mvc`}</em>{` will dynamically generate the `}<em parentName=\"p\">{`actions`}</em>{` and `}<em parentName=\"p\">{`getters`}</em>{` for you so you avoid writing a bit of boilerplate.`}</p>\n    <p><strong parentName=\"p\">{`Tools:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"/model/docs\"\n      }}><em parentName=\"a\">{`createModel`}</em></a>{` decorator.`}</p>\n    <h3>{`View`}</h3>\n    <p>{`The `}<em parentName=\"p\">{`view`}</em>{` is the presentational layer. By using dependency injection we can keep it as stateless as possible.`}</p>\n    <p><strong parentName=\"p\">{`Tools:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"/context/connect/docs\"\n      }}><em parentName=\"a\">{`connect`}</em></a>{` hoc, `}<a parentName=\"p\" {...{\n        \"href\": \"/context/useModel/docs\"\n      }}><em parentName=\"a\">{`useModel`}</em></a>{` hook.`}</p>\n    <h3>{`Controller`}</h3>\n    <p>{`The `}<em parentName=\"p\">{`controller`}</em>{` in the `}<em parentName=\"p\">{`redux-mvc`}</em>{` architecture is the layer that coordinates the other layers by `}<em parentName=\"p\">{`modeling time`}</em>{`, meaning it will look at a stream of events (redux actions) and it will act accordingly by firing other events, calling the api or forking processes. The `}<em parentName=\"p\">{`controller`}</em>{` can also act as supervisor of child modules.`}</p>\n    <p><em parentName=\"p\">{`redux-mvc`}</em>{` does not bake in a `}<em parentName=\"p\">{`controller`}</em>{` layer, it’s up to your needs an choice. Common redux controller layers are: `}<em parentName=\"p\">{`redux-saga`}</em>{`, `}<em parentName=\"p\">{`redux-thunk`}</em>{`, `}<em parentName=\"p\">{`redux-observable`}</em>{` …`}</p>\n    <p>{`In the case of this basic example we won’t need to be modeling time or coordinating child modules.`}</p>\n    <h3>{`Selectors`}</h3>\n    <p><em parentName=\"p\">{`selectors`}</em>{` is a layer of indirection that decouples the `}<em parentName=\"p\">{`view`}</em>{` from the `}<em parentName=\"p\">{`model`}</em>{`. It’s also the place where you derive and/or combine data between several `}<em parentName=\"p\">{`models`}</em>{`.`}</p>\n    <p><strong parentName=\"p\">{`Tools:`}</strong>{` `}<em parentName=\"p\">{`createSelector`}</em>{`.`}</p>\n    <h3>{`Module`}</h3>\n    <p>{`The `}<em parentName=\"p\">{`module`}</em>{` is the configuration layer that wires the `}<em parentName=\"p\">{`model`}</em>{` and `}<em parentName=\"p\">{`controller`}</em>{` and plugs other modules in. It adds the lifecycle methods that are required by the `}<em parentName=\"p\">{`context`}</em>{`.`}</p>\n    <p><strong parentName=\"p\">{`Tools:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"/module/definition/docs\"\n      }}><em parentName=\"a\">{`createModule`}</em></a>{`.`}</p>\n    <h3>{`Context`}</h3>\n    <p>{`The `}<em parentName=\"p\">{`context`}</em>{` is where you run the page’s `}<em parentName=\"p\">{`module`}</em>{`. `}</p>\n    <p><strong parentName=\"p\">{`Tools:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"/context/creation/docs\"\n      }}><em parentName=\"a\">{`createContext`}</em></a>{`.`}</p>\n    <h3>{`Global Database`}</h3>\n    <p>{`The `}<em parentName=\"p\">{`global database`}</em>{` can be any store of global available data: `}<em parentName=\"p\">{`graphql`}</em>{`, `}<em parentName=\"p\">{`datascript`}</em>{` or even a `}<em parentName=\"p\">{`redux-mvc`}</em>{` data module. `}</p>\n    <p>{`In here you put any data that can be globally available, usually api data.`}</p>\n    <p><strong parentName=\"p\">{`Tools:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"/middleware/bridge/usage\"\n      }}><em parentName=\"a\">{`createContext`}</em></a>{` to set the global context, `}<a parentName=\"p\" {...{\n        \"href\": \"/module/definition/docs#addbridge\"\n      }}><em parentName=\"a\">{`addBridge`}</em></a>{` decorator to consume the global context.`}</p>\n    <p><strong parentName=\"p\">{`Note:`}</strong>{` as of this time the only global store I use is other `}<em parentName=\"p\">{`redux-mvc`}</em>{` module. In the future I would like to try using `}<em parentName=\"p\">{`graphql`}</em>{` or `}<em parentName=\"p\">{`datascript`}</em>{` as database.`}</p>\n    <h2>{`Implementation`}</h2>\n    <p>{`The architecture diagram above can be implemented with any tool that supports composition of models and a global context to run the model. `}</p>\n    <p><em parentName=\"p\">{`redux`}</em>{` is functional, data for the state and functions for updates, is easily composable. `}</p>\n    <p><em parentName=\"p\">{`react`}</em>{` context api works just fine as model provider.`}</p>\n    <p>{`Other important thing to notice about the implementation is the `}<em parentName=\"p\">{`decorators`}</em>{` api for the modules. It is useful for creating new modules out of other modules, by composition or enhancement of functionalities, but more important, it allows `}<em parentName=\"p\">{`redux-mvc`}</em>{` to be customized by the consumer. You can rewrite any of the decorators meanwhile it does what is supposed to do and implements the decorator api. In fact this is the recipe to add your `}<em parentName=\"p\">{`controller`}</em>{` layer of preference.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}